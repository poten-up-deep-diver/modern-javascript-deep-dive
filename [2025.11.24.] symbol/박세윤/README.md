# [JS] 7번째 데이터 타입 Symbol

## 🔍 들어가며

지난 스터디에서, 원시 데이터 타입을 다루면서 7번째 데이터 타입으로 Symbol을 언급했었다.

하지만, 개발을 진행해오면서 Symbol을 다뤄볼 일이 없었으며 사용해보지 못했었어서 어디에 활용할 수 있을지 궁금했다.

「모던 자바스크립트 Deep Dive」33장을 읽으며 Symbol에 대해 새로 알게된 내용을 정리해보려고 한다.

## 🤔 Symbol이란?

심벌은 ES6에서 도입된 7번째 데이터 타입으로, 변경 불가능한 원시 타입의 값이다.

심벌 값은 다른 값과 중복되지 않는 유일무이한 값이므로, 이름의 충돌 위험이 없는 유일한 프로퍼티 키를 만들기 위해 사용한다고 한다.

(Symbol을 호출하면, 빈 메모리 주소 기반으로 값이 만들어지기 때문에 충돌 위험이 없다고 한다)

## 🤔 Symbol의 사용법

Symbol은 다음과 같이 Symbol 함수를 호출하여 생성할 수 있다.

예시를 한 번 살펴보자.

```jsx
// 1. 매개변수 없이 호출
const symbol1 = Symbol();

// 2. 매개변수 넣어 호출
const symbol2 = Symbol('Symbol2');
const symbol3 = Symbol('Symbol2');

// 3. Symbol.for 메서드 사용
const symbol4 = Symbol.for('Symbol4');
const symbol5 = Symbol.for('Symbol4');

// 4. Symbol.keyFor 메서드 사용
Symbol.keyFor(symbol2); // undefined
Symbol.keyFor(symbol4); // Symbol4
```

1. 1번 예시와 같이 매개 변수 없이 `Symbol()`을 호출하면, 중복 없는 유일 무이한 값이 생성된다.
2. 2번 예시와 같이 매개변수를 넣어 호출하면, 해당 심벌에 대한 설명(description) 프로퍼티에 할당되며, 심벌 값에는 영향을 주지 않는다. 따라서 `symbol2`와 `symbol3` 는 다르다. (”Symbol2”는 단순한 주석)
3. 3번 예시와 같이, `Symbol.for()` 메서드로 호출하면, 전역 심벌 레지스트리에 저장하거나, 이미 있는 값이면 전역 심벌 레지스트리에서 심벌 값을 가져와 반환한다. 따라서 `symbol4` 와 `symbol5`는 같다.
4. 4번 예시와 같이, `Symbol.keyFor()` 메서드를 심벌 값과 함께 호출하면, 전역 심벌 레지스트리에 저장된 심벌값의 키를 추출할 수 있다.

### Symbol() vs Symbol.for()

위에서 알아본 `Symbol`과 `Symbol.for`는 저장되는 구조 자체가 다르다.

`Symbol`의 경우, 매개변수로 전달된 값은 그저 주석에 불과하지만, `Symbol.for`의 경우, 전역 심벌 레지스트리의 키 값으로 사용된다.

이해하기 쉽게 써보자면 전역 심벌 레지스트리는 다음과 유사한 구조를 가진다. (실제로 JSON 구조는 아니다.)

```jsx
GlobalSymbolRegistry = {
  "Symbol4":  Symbol(0x9988... 고유해시값),
  // ...
};
```

따라서 `Symbol.keyFor` 메서드를 사용해서 해당 심볼의 키 값을 추출할 수 있는 것이다.

## 🤔 Symbol의 사용 사례

지금까지 알아본 내용으로는, 심벌을 어디에 사용할 수 있을지 감이 오지 않아, 어디에 사용될지 조사해보았다.

사실 일반적인 비즈니스 로직에서는 사용할 일이 거의 없다고 봐도 무방하다고 결론을 내렸다.

그렇다면 도대체 누가 사용을 할 지 간단하게 알아보자.

- **라이브러리/프레임워크 개발자**: 사용자의 코드와 절대 충돌하지 않는 내부 관리용 식별자나 보안 태그를 만들 때 사용
- **팀 내 공용 커스텀 자료구조 제작**: 동료들이 쓸 커스텀 객체에 `for..of` 반복 기능이나 자동 메모리 정리(`dispose`) 같은 고급 언어 기능을 입힐 때 사용

## 🧑🏻‍⚖️ 결론

1. 심벌은 절대 중복되지 않는 유일무이한 원시 값으로, 주로 라이브러리나 프레임워크의 프로퍼티 키 충돌을 방지하기 위해 사용됨
2. `Symbol()`은 단순 고유값 생성, `Symbol.for()`는 전역 레지스트리 공유
3. 일반적인 비즈니스 로직에서는 쓸 일이 없음
